### 设计模式分类

总体来说分为三大类：

创建型，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。

结构型，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。

行为型，共十一终：策略模式、模板方法模式、观察者模式、迭代器模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介模式、解释器模式。



### 设计模式六大原则



#### 总原则：开闭原则

开闭原则就是说**对扩展开放，对修改关闭**。在程序需要进行拓展的时候，不能去修改原有的代码，而是要扩展原有代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。实现这一目的的做法是，面向抽象（接口和抽象类）编程。



#### 1、单一职责

> 单一职责从业务的角度将软件实体进行划分，每个软件实体职责单一。

> 单一职责适用地方

- 项目或按功能划分的模块
- 接口
- 方法
- 类



#### 2、里氏替换原则(LSP)

> 里氏代换原则(Liskov Substitution Principle LSP)面向对象设计的基本原则之一。 其定义如下：

- 如果S是T的子类，则T的对象可以替换为S的对象，而不会破坏程序。
- 所有引用其父类对象方法的地方，都可以透明的替换为其子类对象

里氏替换原则中，子类尽量不要对父类的方法进行重写和重载。因为父类（基类）代表了定义好的结构，通过这个规范与外界交互，子类不应该随便破坏它。

##### 里氏替换原则与继承关系

> 继承和多态是面向对象语言所提供的一种语法，是代码实现的思路，而里式替换则是一种思想，一种设计原则，是用来指导继承关系中子类该如何设计，从而保证程序的可扩展性和健壮性。



##### 如何保证里氏替换原则

> 不符合LSP的场景一般是两个都可实例化的类之间存在着继承关系，并且子类重写了父类的方法。如此造成了父子类的强耦合，不利于程序扩展。

尽量不要从可实例化的父类中继承，而是要使用基于抽象类和接口的继承。父类用于写通用方法，子类用于扩展父类的功能，但不能改变父类原有的功能。



#### 3、依赖倒置原则(DIP)

> 这个是开闭原则的基础，具体内容：面向接口编程，依赖于抽象而不依赖于具体。写代码时用到具体类时，不与具体类交互，而与具体类的上层接口交互。



#### 4、接口隔离原则(ISP)

> 一个接口中存在子类用不到却必须实现的方法，那么该接口就必须拆分。使用多个隔离的接口，比使用单个接口要好。



#### 5、迪米特法则（LOD）

> 对于调用者来说：①只和朋友交流，不和陌生人交流  ②不用朋友的内部实现

类之间存在耦合关系就叫朋友关系，耦合分为依赖、关联、聚合、组合等。this、方法参数、返回参数、成员变量称为类的朋友。局部变量、临时变量则不是朋友关系，并且要求非朋友关系的类不要作为局部变量出现在类中。

> 对于提供者来说：只对需要暴露的方法设置为public。

就是说：一个类对自己依赖的类知道的越少越好。也就是说无论被依赖的类多么复杂，都应该将逻辑封装在方法的内部，通过public方法提供给外部。这样当被依赖的类变化时，才能最小的影响该类。



#### 6、合成复用原则

> 避免使用继承，多使用合成、聚合的方式。